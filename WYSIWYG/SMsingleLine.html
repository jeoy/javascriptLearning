<!DOCTYPE html>
<html>
<head>
  <title>What you see is what you get</title>
<link rel="stylesheet" type="text/css" href="css/bootstrap.css">
<link rel="stylesheet" type="text/css" href="css/bootstrap-theme.css">
<link rel="stylesheet" href="CodeMirror-master/lib/codemirror.css">
<link rel="stylesheet" href="CodeMirror-master/theme/monokai.css">

<style type = "text/css">
#jsTA{
  width: 500px;
  height: 400px;
}
span{
  vertical-align: middle;
}
button{
  width: 60px;
  margin-top: -40px;
  vertical-align: top;
}
.CodeMirror pre{
  line-height: 17px;
  font-size: 17px;
}
</style>
</head>
<body>
<head>
  
</head>
<article>
  <section  class = "col-md-6">

    <div >
      <label>测试输入:<br><textarea id = "inputTA"></textarea>  </label>
 
      <button  id = "run" class = "btn btn-success btn-group">运行</button>
    </div>

    <h2>javaScript</h2>
<div class="CodeMirror cm-s-monokai">
<form><textarea id="code" name="code">
function func() {
    line = read_line();
    print2(line);
}</textarea></form>
</div>
  </section>
  <section class="col-md-6">
    <div>
      <h2> 运行结果:</h2>
      <p id = "result"></p>
    </div>
  </section>
  
</article>

<footer>
  
</footer>



</body>
</html>
<script type="text/javascript"  src = "js/jquery-3.1.1.js"></script>
<script type="text/javascript"  src = "js/bootstrap.js"></script>

<script src="CodeMirror-master/lib/codemirror.js"></script>
<script src="CodeMirror-master/mode/javascript/javascript.js"></script>
<script>
  var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
    lineNumbers: true,
    styleActiveLine: true,
    matchBrackets: true
  });

  editor.setOption("theme", "monokai");
  var input = document.getElementById("select");
 
</script>

<script type="text/javascript">

window.onerror =
  function(errorMessage, scriptURI, lineNumber) {

    alert("代码有错");
}


// palindrome(" ra  ce   CAR");


$(function(){
 

  function print2(str){
     $("#result").text(str);
  }
  function read_line(){
    return str = $("#inputTA").val();
  }
  $("#run").click(function(){
    // eval($("#code").val());
    eval($(".CodeMirror-line").text());
    // var str;
    // str = $("#inputTA").val();
    $("#result").text("running..");
    window.setTimeout(function(){
       func( ) ;
    },500)
    

  })

})





</script>

