<!DOCTYPE html>
<html>
<head>
	<title>Js错误捕获</title>
	<script type="text/javascript">
	/**
	 * @param {String} 	errorMessage 	错误信息
	 * @param {String} 	scriptURI 		出错的文件
	 * @param {Long} 	lineNumber 	出错代码的行号
	 * @param {Long} 	columnNumber 	出错代码的列号
	 * @param {Object} 	errorObj 		错误的详细信息，Anything
	 */
	window.onerror = function(errorMessage, scriptURI, lineNumber,columnNumber,errorObj) {
	   console.log("错误信息：" , errorMessage);
	   console.log("出错文件：" , scriptURI);
	   console.log("出错行号：" , lineNumber);
	   console.log("出错列号：" , columnNumber);
	   console.log("错误详情：" , errorObj);
	}
	</script>
</head>
<body>
	<script type="text/javascript" >
function swap(arr,i,j) {  
    if(i!=j) {  
        var temp=arr[i];  
        arr[i]=arr[j];  
        arr[j]=temp;  
    }  
}  
var count=0;  
var result = [];
  
 
function perm(arr) {  
	arr = arr.split("");
    (function fn(n) { //为第n个位置选择元素  
        for(var i=n;i<arr.length;i++) {  
            swap(arr,i,n);  
            if(n+1<arr.length-1) //判断数组中剩余的待全排列的元素是否大于1个  
                fn(n+1); //从第n+1个下标进行全排列  
            else {
            	if(!/(\w)\1/g.test(arr.join("")))
                	result.push(arr.toString()); //显示一组结果  
            }
            swap(arr,i,n);  
        }  
    })(0);  
  
  return result;
}  
 console.log(perm("abcdefa").length);





	</script>
</body>
</html>