
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">


<head>

<title> Ajax </title>
<meta charset = "utf-8"/>
<style type="text/css">
 
</style>
</head>
 
<body>

 
</body>


<script  src = "scripts/jquery-1.8.3.min.js" type="text/javascript"></script>
<script>
div0 = document.createElement("div");
$(function(){


var wait = function( ){
  var dtd  = $.Deferred();
  var taskk = function(){
     
      div0.innerText = "run complete";
      dtd.resolve();
  }

  setTimeout(taskk,1000);
  return dtd.promise();
}


$.when(wait( )).done(function(){
  alert("执行完了并且回调了我");
}).fail(function(){
  alert("执行失败！");
})

})







$("body").append(div0);
</script>